{
  "meta": {
    "name": "用户管理API测试计划",
    "version": "1.0",
    "generated_at": "2026-01-17T19:05:22.396023"
  },
  "endpoints": [
    {
      "id": "get_users",
      "name": "获取用户列表",
      "method": "GET",
      "path": "/users",
      "summary": "获取用户列表",
      "parameters": [],
      "request_body": null,
      "responses": {
        "200": {
          "description": "成功返回用户列表",
          "schema": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer"
                },
                "name": {
                  "type": "string"
                },
                "email": {
                  "type": "string"
                },
                "phone": {
                  "type": "string"
                },
                "website": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    {
      "id": "create_user",
      "name": "创建用户",
      "method": "POST",
      "path": "/users",
      "summary": "创建用户",
      "parameters": [],
      "request_body": {
        "content_type": "application/json",
        "schema": {
          "type": "object",
          "required": [
            "name",
            "email"
          ],
          "properties": {
            "name": {
              "type": "string",
              "description": "用户姓名"
            },
            "email": {
              "type": "string",
              "format": "email",
              "description": "用户邮箱"
            },
            "phone": {
              "type": "string",
              "description": "用户电话"
            }
          }
        }
      },
      "responses": {
        "201": {
          "description": "用户创建成功",
          "schema": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "phone": {
                "type": "string"
              },
              "website": {
                "type": "string"
              }
            }
          }
        },
        "400": {
          "description": "请求参数错误"
        }
      }
    },
    {
      "id": "get_user_by_id",
      "name": "获取单个用户",
      "method": "GET",
      "path": "/users/{id}",
      "summary": "获取单个用户",
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "type": "integer",
          "required": true,
          "description": "用户 ID"
        }
      ],
      "request_body": null,
      "responses": {
        "200": {
          "description": "成功返回用户详情",
          "schema": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "phone": {
                "type": "string"
              },
              "website": {
                "type": "string"
              }
            }
          }
        },
        "404": {
          "description": "用户不存在"
        }
      }
    },
    {
      "id": "update_user",
      "name": "更新用户",
      "method": "PUT",
      "path": "/users/{id}",
      "summary": "更新用户",
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "type": "integer",
          "required": true,
          "description": "用户 ID"
        }
      ],
      "request_body": {
        "content_type": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "email": {
              "type": "string",
              "format": "email"
            },
            "phone": {
              "type": "string"
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "用户更新成功",
          "schema": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "phone": {
                "type": "string"
              },
              "website": {
                "type": "string"
              }
            }
          }
        },
        "404": {
          "description": "用户不存在"
        }
      }
    },
    {
      "id": "delete_user",
      "name": "删除用户",
      "method": "DELETE",
      "path": "/users/{id}",
      "summary": "删除用户",
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "type": "integer",
          "required": true,
          "description": "用户 ID"
        }
      ],
      "request_body": null,
      "responses": {
        "200": {
          "description": "用户删除成功"
        },
        "404": {
          "description": "用户不存在"
        }
      }
    },
    {
      "id": "get_posts",
      "name": "获取文章列表",
      "method": "GET",
      "path": "/posts",
      "summary": "获取文章列表",
      "parameters": [
        {
          "name": "userId",
          "in": "query",
          "type": "integer",
          "required": false,
          "description": "按用户 ID 筛选"
        }
      ],
      "request_body": null,
      "responses": {
        "200": {
          "description": "成功返回文章列表",
          "schema": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer"
                },
                "userId": {
                  "type": "integer"
                },
                "title": {
                  "type": "string"
                },
                "body": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  ],
  "test_cases": [
    {
      "id": "tc_get_users_positive",
      "name": "成功获取用户列表",
      "endpoint_id": "get_users",
      "category": "positive",
      "priority": "high",
      "inputs": {
        "path_params": {},
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 200
        },
        {
          "type": "json_path",
          "path": "$",
          "operator": "exists"
        },
        {
          "type": "json_path",
          "path": "$[0].id",
          "operator": "exists"
        },
        {
          "type": "json_path",
          "path": "$[0].name",
          "operator": "exists"
        },
        {
          "type": "json_path",
          "path": "$[0].email",
          "operator": "exists"
        }
      ],
      "extract": [
        {
          "name": "first_user_id",
          "from": "$[0].id"
        }
      ]
    },
    {
      "id": "tc_get_users_negative",
      "name": "获取用户列表时服务器错误",
      "endpoint_id": "get_users",
      "category": "negative",
      "priority": "medium",
      "inputs": {
        "path_params": {},
        "query_params": {},
        "headers": {
          "Content-Type": "application/json",
          "X-Force-Error": "500"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 500
        }
      ],
      "extract": []
    },
    {
      "id": "tc_create_user_positive",
      "name": "成功创建用户",
      "endpoint_id": "create_user",
      "category": "positive",
      "priority": "high",
      "inputs": {
        "path_params": {},
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "name": "张三",
          "email": "zhangsan@example.com",
          "phone": "13800138000"
        }
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 201
        },
        {
          "type": "json_path",
          "path": "$.id",
          "operator": "exists"
        },
        {
          "type": "json_path",
          "path": "$.name",
          "operator": "equals",
          "expected": "张三"
        },
        {
          "type": "json_path",
          "path": "$.email",
          "operator": "equals",
          "expected": "zhangsan@example.com"
        },
        {
          "type": "json_path",
          "path": "$.phone",
          "operator": "equals",
          "expected": "13800138000"
        }
      ],
      "extract": [
        {
          "name": "created_user_id",
          "from": "$.id"
        }
      ]
    },
    {
      "id": "tc_create_user_negative",
      "name": "创建用户时缺少必填字段",
      "endpoint_id": "create_user",
      "category": "negative",
      "priority": "high",
      "inputs": {
        "path_params": {},
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "name": "李四"
        }
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 400
        }
      ],
      "extract": []
    },
    {
      "id": "tc_get_user_by_id_positive",
      "name": "成功获取单个用户详情",
      "endpoint_id": "get_user_by_id",
      "category": "positive",
      "priority": "high",
      "inputs": {
        "path_params": {
          "id": "{{created_user_id}}"
        },
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 200
        },
        {
          "type": "json_path",
          "path": "$.id",
          "operator": "exists"
        },
        {
          "type": "json_path",
          "path": "$.name",
          "operator": "exists"
        },
        {
          "type": "json_path",
          "path": "$.email",
          "operator": "exists"
        }
      ],
      "extract": []
    },
    {
      "id": "tc_get_user_by_id_negative",
      "name": "获取不存在的用户",
      "endpoint_id": "get_user_by_id",
      "category": "negative",
      "priority": "medium",
      "inputs": {
        "path_params": {
          "id": "99999"
        },
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 404
        }
      ],
      "extract": []
    },
    {
      "id": "tc_update_user_positive",
      "name": "成功更新用户信息",
      "endpoint_id": "update_user",
      "category": "positive",
      "priority": "high",
      "inputs": {
        "path_params": {
          "id": "{{created_user_id}}"
        },
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "name": "张三更新",
          "email": "zhangsan_updated@example.com",
          "phone": "13900139000"
        }
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 200
        },
        {
          "type": "json_path",
          "path": "$.name",
          "operator": "equals",
          "expected": "张三更新"
        },
        {
          "type": "json_path",
          "path": "$.email",
          "operator": "equals",
          "expected": "zhangsan_updated@example.com"
        },
        {
          "type": "json_path",
          "path": "$.phone",
          "operator": "equals",
          "expected": "13900139000"
        }
      ],
      "extract": []
    },
    {
      "id": "tc_update_user_negative",
      "name": "更新不存在的用户",
      "endpoint_id": "update_user",
      "category": "negative",
      "priority": "medium",
      "inputs": {
        "path_params": {
          "id": "99999"
        },
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "name": "不存在的用户"
        }
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 404
        }
      ],
      "extract": []
    },
    {
      "id": "tc_get_posts_positive",
      "name": "成功获取文章列表",
      "endpoint_id": "get_posts",
      "category": "positive",
      "priority": "medium",
      "inputs": {
        "path_params": {},
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 200
        },
        {
          "type": "json_path",
          "path": "$",
          "operator": "exists"
        }
      ],
      "extract": []
    },
    {
      "id": "tc_get_posts_by_user_positive",
      "name": "成功按用户ID筛选文章列表",
      "endpoint_id": "get_posts",
      "category": "positive",
      "priority": "medium",
      "inputs": {
        "path_params": {},
        "query_params": {
          "userId": "{{created_user_id}}"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 200
        },
        {
          "type": "json_path",
          "path": "$",
          "operator": "exists"
        }
      ],
      "extract": []
    },
    {
      "id": "tc_get_posts_negative",
      "name": "使用无效用户ID筛选文章",
      "endpoint_id": "get_posts",
      "category": "negative",
      "priority": "low",
      "inputs": {
        "path_params": {},
        "query_params": {
          "userId": "invalid_id"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 400
        }
      ],
      "extract": []
    },
    {
      "id": "tc_delete_user_positive",
      "name": "成功删除用户",
      "endpoint_id": "delete_user",
      "category": "positive",
      "priority": "high",
      "inputs": {
        "path_params": {
          "id": "{{created_user_id}}"
        },
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 200
        }
      ],
      "extract": []
    },
    {
      "id": "tc_delete_user_negative",
      "name": "删除不存在的用户",
      "endpoint_id": "delete_user",
      "category": "negative",
      "priority": "medium",
      "inputs": {
        "path_params": {
          "id": "99999"
        },
        "query_params": {},
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {}
      },
      "assertions": [
        {
          "type": "status_code",
          "expected": 404
        }
      ],
      "extract": []
    }
  ],
  "execution_order": [
    "tc_get_users_positive",
    "tc_get_users_negative",
    "tc_create_user_positive",
    "tc_create_user_negative",
    "tc_get_user_by_id_positive",
    "tc_get_user_by_id_negative",
    "tc_update_user_positive",
    "tc_update_user_negative",
    "tc_get_posts_positive",
    "tc_get_posts_by_user_positive",
    "tc_get_posts_negative",
    "tc_delete_user_positive",
    "tc_delete_user_negative"
  ],
  "dependencies": {
    "tc_get_user_by_id_positive": {
      "depends_on": "tc_create_user_positive",
      "inject": {
        "path_params.id": "{{created_user_id}}"
      }
    },
    "tc_update_user_positive": {
      "depends_on": "tc_create_user_positive",
      "inject": {
        "path_params.id": "{{created_user_id}}"
      }
    },
    "tc_get_posts_by_user_positive": {
      "depends_on": "tc_create_user_positive",
      "inject": {
        "query_params.userId": "{{created_user_id}}"
      }
    },
    "tc_delete_user_positive": {
      "depends_on": "tc_create_user_positive",
      "inject": {
        "path_params.id": "{{created_user_id}}"
      }
    }
  }
}